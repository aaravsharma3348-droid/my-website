<!DOCTYPE html>
<html>
<head>
  <title>Explore Funds - DebtManage</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="bg-gray-50">
  <!-- Navigation -->
  <nav class="bg-white shadow-sm border-b sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <div class="flex items-center space-x-8">
          <a href="groww-mvp.html" class="text-2xl font-bold text-green-600">DebtManage</a>
          <div class="hidden md:flex space-x-6">
            <a href="dashboard.html" class="text-gray-600 hover:text-green-600">Dashboard</a>
            <a href="funds.html" class="text-green-600 font-medium">Explore Funds</a>
            <a href="sip-calculator.html" class="text-gray-600 hover:text-green-600">SIP Calculator</a>
            <a href="transactions.html" class="text-gray-600 hover:text-green-600">Transactions</a>
            <a href="education.html" class="text-gray-600 hover:text-green-600">Learn</a>
          </div>
        </div>
        <div class="flex items-center space-x-4">
          <button onclick="logout()" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors">
            Logout
          </button>
        </div>
      </div>
    </div>
  </nav>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <div class="mb-8">
      <h1 class="text-3xl font-bold text-gray-900 mb-2">Explore Mutual Funds</h1>
      <p class="text-gray-600">Discover the best mutual funds for your investment goals</p>
    </div>

    <!-- Filters -->
    <div class="bg-white rounded-xl shadow-sm border p-6 mb-8">
      <h2 class="text-lg font-semibold text-gray-900 mb-4">Filter Funds</h2>
      <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Fund Type</label>
          <select id="fundType" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
            <option value="">All Types</option>
            <option value="equity">Equity</option>
            <option value="debt">Debt</option>
            <option value="hybrid">Hybrid</option>
            <option value="elss">ELSS</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Risk Level</label>
          <select id="riskLevel" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
            <option value="">All Risk Levels</option>
            <option value="low">Low Risk</option>
            <option value="moderate">Moderate Risk</option>
            <option value="high">High Risk</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">AMC</label>
          <select id="amc" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
            <option value="">All AMCs</option>
            <option value="sbi">SBI Mutual Fund</option>
            <option value="hdfc">HDFC Mutual Fund</option>
            <option value="axis">Axis Mutual Fund</option>
            <option value="icici">ICICI Prudential</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Returns</label>
          <select id="returns" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
            <option value="">All Returns</option>
            <option value="high">Above 15%</option>
            <option value="medium">10-15%</option>
            <option value="low">Below 10%</option>
          </select>
        </div>
      </div>
      <div class="mt-4 flex space-x-4">
        <button onclick="applyFilters()" class="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors">
          Apply Filters
        </button>
        <button onclick="clearFilters()" class="bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300 transition-colors">
          Clear All
        </button>
      </div>
    </div>

    <!-- Fund Categories -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
      <button onclick="filterByCategory('equity')" class="bg-white p-4 rounded-lg border hover:border-green-500 hover:bg-green-50 transition-colors text-center">
        <div class="text-2xl mb-2">üìà</div>
        <div class="font-medium text-gray-900">Equity Funds</div>
        <div class="text-sm text-gray-600">High Growth</div>
      </button>
      <button onclick="filterByCategory('debt')" class="bg-white p-4 rounded-lg border hover:border-green-500 hover:bg-green-50 transition-colors text-center">
        <div class="text-2xl mb-2">üè¶</div>
        <div class="font-medium text-gray-900">Debt Funds</div>
        <div class="text-sm text-gray-600">Stable Returns</div>
      </button>
      <button onclick="filterByCategory('hybrid')" class="bg-white p-4 rounded-lg border hover:border-green-500 hover:bg-green-50 transition-colors text-center">
        <div class="text-2xl mb-2">‚öñÔ∏è</div>
        <div class="font-medium text-gray-900">Hybrid Funds</div>
        <div class="text-sm text-gray-600">Balanced</div>
      </button>
      <button onclick="filterByCategory('elss')" class="bg-white p-4 rounded-lg border hover:border-green-500 hover:bg-green-50 transition-colors text-center">
        <div class="text-2xl mb-2">üí∞</div>
        <div class="font-medium text-gray-900">ELSS Funds</div>
        <div class="text-sm text-gray-600">Tax Saving</div>
      </button>
    </div>

    <!-- Fund List -->
    <div id="fundsList" class="space-y-4">
      <!-- Funds will be populated here -->
    </div>
  </div>

  <script>
    const funds = [
      {
        name: "SBI Bluechip Fund",
        amc: "SBI Mutual Fund",
        type: "equity",
        category: "Large Cap",
        risk: "low",
        returns1y: "12.5",
        returns3y: "14.2",
        returns5y: "13.8",
        expense: "0.65",
        minSip: "50",
        rating: "4.5"
      },
      {
        name: "HDFC Mid-Cap Opportunities Fund",
        amc: "HDFC Mutual Fund",
        type: "equity",
        category: "Mid Cap",
        risk: "moderate",
        returns1y: "15.8",
        returns3y: "16.5",
        returns5y: "15.2",
        expense: "0.85",
        minSip: "50",
        rating: "4.2"
      },
      {
        name: "Axis Small Cap Fund",
        amc: "Axis Mutual Fund",
        type: "equity",
        category: "Small Cap",
        risk: "high",
        returns1y: "18.2",
        returns3y: "19.8",
        returns5y: "17.5",
        expense: "1.25",
        minSip: "50",
        rating: "4.0"
      },
      {
        name: "ICICI Prudential Balanced Advantage Fund",
        amc: "ICICI Prudential",
        type: "hybrid",
        category: "Dynamic Asset Allocation",
        risk: "moderate",
        returns1y: "11.5",
        returns3y: "12.8",
        returns5y: "11.9",
        expense: "0.95",
        minSip: "100",
        rating: "4.3"
      },
      {
        name: "SBI Long Term Equity Fund",
        amc: "SBI Mutual Fund",
        type: "elss",
        category: "ELSS",
        risk: "moderate",
        returns1y: "13.2",
        returns3y: "14.5",
        returns5y: "13.1",
        expense: "0.75",
        minSip: "50",
        rating: "4.1"
      },
      {
        name: "HDFC Corporate Bond Fund",
        amc: "HDFC Mutual Fund",
        type: "debt",
        category: "Corporate Bond",
        risk: "low",
        returns1y: "7.8",
        returns3y: "8.2",
        returns5y: "7.9",
        expense: "0.45",
        minSip: "100",
        rating: "4.4"
      }
    ];

    function renderFunds(fundsToRender = funds) {
      const fundsList = document.getElementById('fundsList');
      fundsList.innerHTML = '';

      fundsToRender.forEach(fund => {
        const fundCard = `
          <div class="bg-white rounded-xl shadow-sm border p-6 hover:shadow-md transition-shadow">
            <div class="flex flex-col md:flex-row md:items-center justify-between">
              <div class="flex-1">
                <div class="flex items-center space-x-3 mb-2">
                  <h3 class="text-lg font-semibold text-gray-900">${fund.name}</h3>
                  <span class="px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">${fund.category}</span>
                  <span class="px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full">${fund.risk} Risk</span>
                </div>
                <p class="text-sm text-gray-600 mb-3">${fund.amc}</p>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
                  <div>
                    <p class="text-gray-600">1Y Returns</p>
                    <p class="font-semibold text-green-600">${fund.returns1y}%</p>
                  </div>
                  <div>
                    <p class="text-gray-600">3Y Returns</p>
                    <p class="font-semibold text-green-600">${fund.returns3y}%</p>
                  </div>
                  <div>
                    <p class="text-gray-600">Expense Ratio</p>
                    <p class="font-semibold text-gray-900">${fund.expense}%</p>
                  </div>
                  <div>
                    <p class="text-gray-600">Min SIP</p>
                    <p class="font-semibold text-gray-900">$${fund.minSip}</p>
                  </div>
                </div>
              </div>
              <div class="mt-4 md:mt-0 md:ml-6 flex flex-col space-y-2">
                <div class="flex items-center space-x-1">
                  <span class="text-yellow-400">‚òÖ</span>
                  <span class="text-sm font-medium">${fund.rating}</span>
                </div>
                <button onclick="investInFund('${fund.name}')" class="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors">
                  Invest Now
                </button>
                <button onclick="startSIP('${fund.name}')" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                  Start SIP
                </button>
              </div>
            </div>
          </div>
        `;
        fundsList.innerHTML += fundCard;
      });
    }

    function applyFilters() {
      const fundType = document.getElementById('fundType').value;
      const riskLevel = document.getElementById('riskLevel').value;
      const amc = document.getElementById('amc').value;
      const returns = document.getElementById('returns').value;

      let filteredFunds = funds.filter(fund => {
        if (fundType && fund.type !== fundType) return false;
        if (riskLevel && fund.risk !== riskLevel) return false;
        if (amc && !fund.amc.toLowerCase().includes(amc)) return false;
        if (returns) {
          const return1y = parseFloat(fund.returns1y);
          if (returns === 'high' && return1y <= 15) return false;
          if (returns === 'medium' && (return1y < 10 || return1y > 15)) return false;
          if (returns === 'low' && return1y >= 10) return false;
        }
        return true;
      });

      renderFunds(filteredFunds);
    }

    function clearFilters() {
      document.getElementById('fundType').value = '';
      document.getElementById('riskLevel').value = '';
      document.getElementById('amc').value = '';
      document.getElementById('returns').value = '';
      renderFunds();
    }

    function filterByCategory(category) {
      const filteredFunds = funds.filter(fund => fund.type === category);
      renderFunds(filteredFunds);
    }

    function investInFund(fundName) {
      localStorage.setItem('investmentData', JSON.stringify({
        type: 'Lumpsum',
        fund: fundName,
        amount: 10000,
        units: '219.05'
      }));
      window.location.href = 'payment.html';
    }

    function startSIP(fundName) {
      localStorage.setItem('investmentData', JSON.stringify({
        type: 'SIP',
        fund: fundName,
        amount: 5000,
        date: 15
      }));
      window.location.href = 'payment.html';
    }

    function logout() {
      localStorage.removeItem('token');
      window.location.href = 'index.html';
    }

    // Initialize
    renderFunds();
  </script>
</body>
</html>